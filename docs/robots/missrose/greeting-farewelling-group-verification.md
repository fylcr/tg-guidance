---
prev:
  text: '清理功能'
  link: '/robots/missrose/clean'
next:
  text: '违禁操作'
  link: '/robots/missrose/action'
---
# 欢迎欢送与入群验证

## 欢迎欢送

用户加入群组时 MissRose 可以发送欢迎消息。

发送命令`/welcome on`以打开欢迎功能，发送命令`/welcome off`则关闭欢迎功能。

使用`/setwelcome 欢迎消息内容`来设置欢迎消息内容，其中欢迎消息使用[格式化语言](https://missrose.org/docs/formatting/)来编写。
>这个格式化语言解释起来太麻烦了，自己看文档吧。

回复图片或贴纸`/setwelcome 说明`则会使用图片或贴纸做欢迎消息。
>贴纸是不能添加说明的，你只能发送贴纸。

发送`/resetwelcome`初始化欢送设置。

发送`/welcome`以查看你的欢迎消息效果。

发送`/cleanwelcome on`可以让 MissRose 自动删除欢迎消息，这样不至于群组里都是欢迎消息了。当然，发送`/cleanwelcome off`已关闭这个功能。

类似于欢迎，当用户离开群组时 MissRose 也会发送欢送消息。

欢送的命令和欢迎的用法一样：`/goodbye on`打开欢送；`/goodbye off`关闭欢送；`/setgoodbye`设置欢送内容；`/goodbye`以查看欢送效果。

但是欢送并没有类似欢迎自动删除的功能。

>有些群还会设置群规，不过这没有太大的用处。~~（毕竟还是会有很多人不会看，看了也不遵守。）~~不过可能你还是想让成员们知道什么是不能干的。
>
>发送`/setrules 群规`以设置群规。（当然可以用格式化语言）这样成员可以发送`/rules`来查群规，或者在欢迎时使用格式语言`{rules}`创建一个可以查群规的按钮。使用`/resetrules`以清除群规。
>>对于规则按钮，可以使用`/setrulesbutton 文字`来更改按钮上的文字，使用`/resetrulesbutton`设为默认值。
>
>使用`/privaterules on`让 MissRose 在成员查群群规时私信他们。`/privaterules off`以关闭。

## 入群验证

入群验证在设置欢迎后设置效果会更好。~~（这也是为什么在这里讲入群验证的原因。）~~

`/captcha on`打开入群验证，`/captcha off`禁用入群验证。

打开入群验证后，新用户在加入群组后才能正常发言。入群验证的方式则是用户点击欢迎消息下方的按钮，之后跳转到私聊里进行验证，然后用户回到群组里就可以正常发言了。

发送`/captchamode 验证模式`已更改验证方法：

|验证模式|效果|
|----|----|
|button|点一下欢迎消息下面的按钮就行了|
|text|当新用户加入或被添加时。例如：“X加入了聊天”|
|math|当用户离开或被移除时。例如：“X离开了聊天群”|
|text2|杂项；例如Telegram支付成功、接近警报、网页应用消息或消息自动删除|

欢迎消息里的按钮文字是可以被更改的，`/setcaptchatext 文字`就可以实现，使用`/resetcaptchatext`以恢复文字。

有些用户比较粗心，入群的时候根本看不见验证，可以一段时间后自动把他们踢出群组，~~这样的话他们下次加入群组的时候就能注意到了。~~`/captchakick on`开启自动踢人，`/captchakick off`以关闭。`/captchakicktime 时间`设置自动提出的时间。

|选项|描述|
|----|----|
|XM|X分钟|
|Xh|X小时|
|Xd|X天|
|Xw|X周|

>上面这个时间表是通用的，其他的时长设置也是这样的。

如果你想让用户通过验证码的时候也能看看群规，发送`/captcharules on`后，用户做完人机后还需要同意群规才能在群组里发言。

接下来我们要讲违禁操作的相关知识。
